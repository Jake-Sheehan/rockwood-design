---
import Layout from '../layouts/Layout.astro';
import ProjectSwiper from '@components/ProjectSwiper';
import SubImage from '../assets/atlantic_ave2.webp';
import LinkButton from '@components/buttons/LinkButton.astro';
import { getFeaturedProjects } from 'src/lib';

const projects = await getFeaturedProjects();
---

<Layout title="Home">
    <ProjectSwiper projects={projects} client:load />

    <section class="subheading section wrapper">
        <div class="subheading-image">
            <img src={SubImage.src} alt="subheading image" />
        </div>
        <div class="subheading-text">
            <h2>Trusted for over 35 years</h2>
            <p>
                We take pride in crafting precise, builder-friendly plans while
                expertly navigating complex zoning and conservation regulations.
                With our deep industry expertise, cutting-edge technology, and
                an extensive design library for inspiration, we ensure a
                seamless, efficient, and enjoyable experience from concept to
                completion.
            </p>
            <div class="learnButton">
                <LinkButton href="/about">Learn More</LinkButton>
            </div>
        </div>
    </section>

    <section class="map-section section wrapper">
        <div class="map-text">
            <h2>Our Projects</h2>
            <p>
                Explore our portfolio of architectural projects. Each point on
                the map represents a story of collaboration, innovation, and
                craftsmanship that defines our approach to building spaces that
                endure.
            </p>
        </div>
        <iframe
            src="https://www.google.com/maps/d/embed?mid=12AERk8C8fTaJElpMLewfFXcJ-R_1XiI&ehbc=2E312F&noprof=1"
            width="640"
            height="480"></iframe>
    </section>
</Layout>

<style>
    .subheading {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        gap: 2rem;
        text-align: center;

        .subheading-text {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 1rem;

            @media (min-width: 1200px) {
                .learnButton {
                    align-self: flex-end;
                }
            }
        }

        .subheading-image {
            max-inline-size: 450px;
            border-radius: var(--rounded);

            img {
                border-radius: var(--rounded);
            }
        }
    }

    @media (min-width: 1200px) {
        .subheading {
            flex-direction: row;
        }
    }

    .map-section {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;

        @media (min-width: 1200px) {
            flex-direction: row;
            gap: 2rem;
        }
    }

    .map-section iframe {
        max-width: 100%;
        aspect-ratio: 16 / 9;
        border: none;
        margin: 1.5rem;
    }
</style>
